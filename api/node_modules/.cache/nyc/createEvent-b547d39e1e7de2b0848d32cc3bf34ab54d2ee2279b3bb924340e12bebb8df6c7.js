function cov_p18koau1q(){var path="/home/carlos/workspace/isdi-parttime-202303/staff/carlos-perez/fullstack/project/api/logic/event/createEvent.js";var hash="8b16daf769274fc99b42785357d02936e9fa94b5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/carlos/workspace/isdi-parttime-202303/staff/carlos-perez/fullstack/project/api/logic/event/createEvent.js",statementMap:{"0":{start:{line:1,column:81},end:{line:1,column:95}},"1":{start:{line:2,column:33},end:{line:2,column:61}},"2":{start:{line:4,column:0},end:{line:19,column:1}},"3":{start:{line:5,column:4},end:{line:5,column:35}},"4":{start:{line:6,column:4},end:{line:6,column:32}},"5":{start:{line:7,column:4},end:{line:7,column:30}},"6":{start:{line:9,column:4},end:{line:18,column:24}},"7":{start:{line:11,column:12},end:{line:13,column:13}},"8":{start:{line:12,column:16},end:{line:12,column:65}},"9":{start:{line:15,column:31},end:{line:15,column:52}},"10":{start:{line:16,column:12},end:{line:16,column:150}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:83},end:{line:19,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:14},end:{line:10,column:15}},loc:{start:{line:10,column:23},end:{line:17,column:9}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:20},end:{line:18,column:23}},line:18}},branchMap:{"0":{loc:{start:{line:11,column:12},end:{line:13,column:13}},type:"if",locations:[{start:{line:11,column:12},end:{line:13,column:13}},{start:{line:11,column:12},end:{line:13,column:13}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b16daf769274fc99b42785357d02936e9fa94b5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_p18koau1q=function(){return actualCoverage;};}return actualCoverage;}cov_p18koau1q();const{validators:{validateId,validateText},errors:{ExistenceError}}=(cov_p18koau1q().s[0]++,require('com'));const{Administrator,Event}=(cov_p18koau1q().s[1]++,require('../../data/models'));cov_p18koau1q().s[2]++;module.exports=(adminId,title,eventDate,location,text,links,visibility)=>{cov_p18koau1q().f[0]++;cov_p18koau1q().s[3]++;validateId(adminId,'admin id');cov_p18koau1q().s[4]++;validateText(title,'title');cov_p18koau1q().s[5]++;validateText(text,'text');cov_p18koau1q().s[6]++;return Administrator.findById(adminId).then(admin=>{cov_p18koau1q().f[1]++;cov_p18koau1q().s[7]++;if(!admin){cov_p18koau1q().b[0][0]++;cov_p18koau1q().s[8]++;throw new ExistenceError('Admin does not exist');}else{cov_p18koau1q().b[0][1]++;}const dateToDate=(cov_p18koau1q().s[9]++,Date.parse(eventDate));cov_p18koau1q().s[10]++;Event.create({author:adminId,title:title,eventDate:dateToDate,location:location,text:text,links:links,visibility:visibility});}).then(()=>{cov_p18koau1q().f[2]++;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfcDE4a29hdTFxIiwiYWN0dWFsQ292ZXJhZ2UiLCJ2YWxpZGF0b3JzIiwidmFsaWRhdGVJZCIsInZhbGlkYXRlVGV4dCIsImVycm9ycyIsIkV4aXN0ZW5jZUVycm9yIiwicyIsInJlcXVpcmUiLCJBZG1pbmlzdHJhdG9yIiwiRXZlbnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiYWRtaW5JZCIsInRpdGxlIiwiZXZlbnREYXRlIiwibG9jYXRpb24iLCJ0ZXh0IiwibGlua3MiLCJ2aXNpYmlsaXR5IiwiZiIsImZpbmRCeUlkIiwidGhlbiIsImFkbWluIiwiYiIsImRhdGVUb0RhdGUiLCJEYXRlIiwicGFyc2UiLCJjcmVhdGUiLCJhdXRob3IiXSwic291cmNlcyI6WyJjcmVhdGVFdmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZhbGlkYXRvcnM6IHsgdmFsaWRhdGVJZCwgdmFsaWRhdGVUZXh0IH0sIGVycm9yczogeyBFeGlzdGVuY2VFcnJvciB9IH0gPSByZXF1aXJlKCdjb20nKVxuY29uc3QgeyBBZG1pbmlzdHJhdG9yLCBFdmVudCB9ID0gcmVxdWlyZSgnLi4vLi4vZGF0YS9tb2RlbHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IChhZG1pbklkLCB0aXRsZSwgZXZlbnREYXRlLCBsb2NhdGlvbiwgdGV4dCwgbGlua3MsIHZpc2liaWxpdHkpID0+IHtcbiAgICB2YWxpZGF0ZUlkKGFkbWluSWQsICdhZG1pbiBpZCcpXG4gICAgdmFsaWRhdGVUZXh0KHRpdGxlLCAndGl0bGUnKVxuICAgIHZhbGlkYXRlVGV4dCh0ZXh0LCAndGV4dCcpXG5cbiAgICByZXR1cm4gQWRtaW5pc3RyYXRvci5maW5kQnlJZChhZG1pbklkKVxuICAgICAgICAudGhlbihhZG1pbiA9PiB7XG4gICAgICAgICAgICBpZiAoIWFkbWluKXtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhpc3RlbmNlRXJyb3IoJ0FkbWluIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBjb25zdCBkYXRlVG9EYXRlID0gRGF0ZS5wYXJzZShldmVudERhdGUpXG4gICAgICAgICAgICBFdmVudC5jcmVhdGUoe2F1dGhvcjogYWRtaW5JZCwgdGl0bGU6IHRpdGxlLCBldmVudERhdGU6IGRhdGVUb0RhdGUsIGxvY2F0aW9uOiBsb2NhdGlvbiwgdGV4dDogdGV4dCxsaW5rczogbGlua3MsIHZpc2liaWxpdHk6IHZpc2liaWxpdHkgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4geyB9KVxufSJdLCJtYXBwaW5ncyI6IncvREFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FmWixLQUFNLENBQUVFLFVBQVUsQ0FBRSxDQUFFQyxVQUFVLENBQUVDLFlBQWEsQ0FBQyxDQUFFQyxNQUFNLENBQUUsQ0FBRUMsY0FBZSxDQUFFLENBQUMsRUFBQU4sYUFBQSxHQUFBTyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFDL0YsS0FBTSxDQUFFQyxhQUFhLENBQUVDLEtBQU0sQ0FBQyxFQUFBVixhQUFBLEdBQUFPLENBQUEsTUFBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQUFSLGFBQUEsR0FBQU8sQ0FBQSxNQUU3REksTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsT0FBTyxDQUFFQyxLQUFLLENBQUVDLFNBQVMsQ0FBRUMsUUFBUSxDQUFFQyxJQUFJLENBQUVDLEtBQUssQ0FBRUMsVUFBVSxHQUFLLENBQUFuQixhQUFBLEdBQUFvQixDQUFBLE1BQUFwQixhQUFBLEdBQUFPLENBQUEsTUFDL0VKLFVBQVUsQ0FBQ1UsT0FBTyxDQUFFLFVBQVUsQ0FBQyxDQUFBYixhQUFBLEdBQUFPLENBQUEsTUFDL0JILFlBQVksQ0FBQ1UsS0FBSyxDQUFFLE9BQU8sQ0FBQyxDQUFBZCxhQUFBLEdBQUFPLENBQUEsTUFDNUJILFlBQVksQ0FBQ2EsSUFBSSxDQUFFLE1BQU0sQ0FBQyxDQUFBakIsYUFBQSxHQUFBTyxDQUFBLE1BRTFCLE1BQU8sQ0FBQUUsYUFBYSxDQUFDWSxRQUFRLENBQUNSLE9BQU8sQ0FBQyxDQUNqQ1MsSUFBSSxDQUFDQyxLQUFLLEVBQUksQ0FBQXZCLGFBQUEsR0FBQW9CLENBQUEsTUFBQXBCLGFBQUEsR0FBQU8sQ0FBQSxNQUNYLEdBQUksQ0FBQ2dCLEtBQUssQ0FBQyxDQUFBdkIsYUFBQSxHQUFBd0IsQ0FBQSxTQUFBeEIsYUFBQSxHQUFBTyxDQUFBLE1BQ1AsS0FBTSxJQUFJLENBQUFELGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUNwRCxDQUFDLEtBQUFOLGFBQUEsR0FBQXdCLENBQUEsVUFFRCxLQUFNLENBQUFDLFVBQVUsRUFBQXpCLGFBQUEsR0FBQU8sQ0FBQSxNQUFHbUIsSUFBSSxDQUFDQyxLQUFLLENBQUNaLFNBQVMsQ0FBQyxFQUFBZixhQUFBLEdBQUFPLENBQUEsT0FDeENHLEtBQUssQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDQyxNQUFNLENBQUVoQixPQUFPLENBQUVDLEtBQUssQ0FBRUEsS0FBSyxDQUFFQyxTQUFTLENBQUVVLFVBQVUsQ0FBRVQsUUFBUSxDQUFFQSxRQUFRLENBQUVDLElBQUksQ0FBRUEsSUFBSSxDQUFDQyxLQUFLLENBQUVBLEtBQUssQ0FBRUMsVUFBVSxDQUFFQSxVQUFXLENBQUMsQ0FBQyxDQUM5SSxDQUFDLENBQUMsQ0FDREcsSUFBSSxDQUFDLElBQU0sQ0FBQXRCLGFBQUEsR0FBQW9CLENBQUEsTUFBRSxDQUFDLENBQUMsQ0FDeEIsQ0FBQyJ9